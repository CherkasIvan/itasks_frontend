{"ast":null,"code":"import { ProjectActionTypes } from './project.actions';\nimport { createSelector } from '@ngrx/store';\nimport { createEntityAdapter } from '@ngrx/entity';\nexport const adapter = createEntityAdapter({\n  selectId: project => project.id,\n  sortComparer: false\n});\nexport const initialState = adapter.getInitialState({\n  ids: [],\n  loading: false,\n  selectedId: null,\n  selectedIdUpdateItem: null,\n  entities: {}\n});\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case ProjectActionTypes.SearchSuccessAction:\n      {\n        return adapter.addAll(action.payload, state);\n      }\n    case ProjectActionTypes.SelectUpdateAction:\n      return Object.assign({}, state, {\n        selectedIdUpdateItem: action.payload\n      });\n    case ProjectActionTypes.SelectAction:\n      return Object.assign({}, state, {\n        selectedId: action.payload\n      });\n    case ProjectActionTypes.CreateAction:\n      {\n        return Object.assign({}, state, {\n          loading: true\n        });\n      }\n    case ProjectActionTypes.CreateSuccessAction:\n      {\n        return adapter.addOne(action.payload, Object.assign({}, state, {\n          loading: false\n        }));\n      }\n    case ProjectActionTypes.SaveAction:\n      {\n        return Object.assign({}, state, {\n          loading: true\n        });\n      }\n    case ProjectActionTypes.SaveSuccessAction:\n      {\n        return Object.assign({}, state, {\n          entities: Object.assign({}, state.entities, {\n            [action.payload.id]: action.payload\n          }),\n          loading: false\n        });\n      }\n    case ProjectActionTypes.DeleteAction:\n      {\n        return Object.assign({}, state, {\n          loading: true\n        });\n      }\n    case ProjectActionTypes.DeleteSuccessAction:\n      {\n        return Object.assign({}, state, {\n          entities: Object.assign({}, state.entities, {\n            [action.payload.id]: action.payload\n          }),\n          loading: false\n        });\n      }\n    case ProjectActionTypes.RestoreAction:\n      {\n        return Object.assign({}, state, {\n          loading: true\n        });\n      }\n    case ProjectActionTypes.RestoreSuccessAction:\n      {\n        return Object.assign({}, state, {\n          entities: Object.assign({}, state.entities, {\n            [action.payload.id]: action.payload\n          }),\n          loading: false\n        });\n      }\n    default:\n      return state;\n  }\n}\nexport const getEntities = state => state.entities;\nexport const getIds = state => state.ids;\nexport const getLoading = state => state.loading;\nexport const getEntitiesArray = createSelector(getEntities, getIds, (entities, ids) => ids.map(id => entities[id]));\nexport const getActiveEntities = createSelector(getEntitiesArray, entities => entities.filter(item => item.isArchive === false));\nexport const getArchiveEntities = createSelector(getEntitiesArray, entities => entities.filter(item => item.isArchive === true));\nexport const getSelectedIdForUpdate = state => state.selectedIdUpdateItem;\nexport const getSelectedId = state => state.selectedId;\nexport const getSelectedEntityForUpdate = createSelector(getEntities, getSelectedIdForUpdate, (entities, selectedId) => entities[selectedId]);\nexport const getSelectedEntity = createSelector(getEntities, getSelectedId, (entities, selectedId) => entities[selectedId]);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}