{"ast":null,"code":"import { select, Store } from \"@ngrx/store\";\nimport { CabinetComponent } from \"../../cabinet.component\";\nimport * as fromRoot from \"@core/redux/index\";\nimport * as LayoutAction from \"@core/redux/layout/layout.actions\";\nimport { Subscription } from \"rxjs\";\nimport { FastSearchComponent } from \"../fast-search/fast-search.component\";\nimport { MenuComponent } from \"../menu/menu.component\";\nimport { AvatarComponent } from \"@ux/components/avatar/avatar.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"../../cabinet.component\";\nfunction HeaderComponent_app_burger_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-burger\", 6);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_app_burger_0_Template_app_burger_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onToggleSidebar());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_ux_user_menu_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ux-user-menu\", 7);\n    i0.ɵɵlistener(\"clickOutside\", function HeaderComponent_ux_user_menu_6_Template_ux_user_menu_clickOutside_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onClose());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"delayClickOutsideInit\", true);\n  }\n}\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor(store, cabinetComponent) {\n      this.store = store;\n      this.cabinetComponent = cabinetComponent;\n      this.subscription$ = new Subscription();\n      this.isOpenMenu = false;\n      this.subscription$.add(this.store.pipe(select(fromRoot.getUser)).subscribe(user => this.user = user));\n    }\n    ngOnInit() {}\n    ngOnDestroy() {\n      this.subscription$.unsubscribe();\n    }\n    onToggleSidebar() {\n      this.store.dispatch(new LayoutAction.OpenSidebar());\n    }\n    onToggleMenu() {\n      this.isOpenMenu = !this.isOpenMenu;\n    }\n    onClose() {\n      this.isOpenMenu = false;\n    }\n    static #_ = (() => this.ɵfac = function HeaderComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || HeaderComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.CabinetComponent));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HeaderComponent,\n      selectors: [[\"app-header\"]],\n      decls: 7,\n      vars: 5,\n      consts: [[\"class\", \"header__burger\", 3, \"click\", 4, \"ngIf\"], [1, \"header__menu\"], [1, \"header__fast-search\"], [1, \"header__right\"], [1, \"header__avatar\", 3, \"click\", \"user\"], [3, \"delayClickOutsideInit\", \"clickOutside\", 4, \"ngIf\"], [1, \"header__burger\", 3, \"click\"], [3, \"clickOutside\", \"delayClickOutsideInit\"]],\n      template: function HeaderComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, HeaderComponent_app_burger_0_Template, 1, 0, \"app-burger\", 0);\n          i0.ɵɵpipe(1, \"async\");\n          i0.ɵɵelement(2, \"app-menu\", 1)(3, \"app-fast-search\", 2);\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"ux-avatar\", 4);\n          i0.ɵɵlistener(\"click\", function HeaderComponent_Template_ux_avatar_click_5_listener() {\n            return ctx.onToggleMenu();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(6, HeaderComponent_ux_user_menu_6_Template, 1, 1, \"ux-user-menu\", 5);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(1, 3, ctx.cabinetComponent.isShowSidebar$));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"user\", ctx.user);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isOpenMenu);\n        }\n      },\n      dependencies: [FastSearchComponent, MenuComponent, AvatarComponent],\n      styles: [\"[_nghost-%COMP%]{display:flex;height:50px;background-color:#fff;box-shadow:inset 0 -1px #e4ebef}[_nghost-%COMP%]   .header__right[_ngcontent-%COMP%]{position:relative;display:flex;margin-left:auto;align-items:center}[_nghost-%COMP%]   .header__avatar[_ngcontent-%COMP%]{margin-right:6px;height:36px;min-width:36px;max-width:36px}[_nghost-%COMP%]   .header__fast-search[_ngcontent-%COMP%]{margin-left:30px}\"],\n      changeDetection: 0\n    }))();\n  }\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}