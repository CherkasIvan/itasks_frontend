{"ast":null,"code":"import { BaseModel } from './base.model';\nimport { getUserId } from '@core/utils/getUserId';\nimport * as moment from 'moment';\nexport class TaskModel extends BaseModel {\n  constructor() {\n    super(...arguments);\n    this.followers = [];\n    this.notifications = [];\n    this.followersUsers = [];\n    this.favorites = [];\n    this.likes = [];\n    this.tags = [];\n    this.tagList = [];\n    this.checkList = [];\n    this.files = [];\n  }\n  getDeadlineCssClass() {\n    let deadlineClass = '';\n    if (this.deadlineAt) {\n      const nowStartDay = moment().startOf('day');\n      const nowEndDay = moment().endOf('day');\n      const deadlineAt = moment(this.deadlineAt).valueOf();\n      if (deadlineAt >= nowStartDay.valueOf() && deadlineAt <= nowEndDay.valueOf()) {\n        deadlineClass = 'deadline__color_soon';\n      } else if (deadlineAt < nowStartDay.valueOf()) {\n        deadlineClass = 'deadline__color_overdue';\n      }\n    }\n    return deadlineClass;\n  }\n  get isFavorite() {\n    return this.favorites.indexOf(this._getUserId()) > -1;\n  }\n  set isFavorite(value) {\n    const userId = this._getUserId();\n    if (value) {\n      this.favorites.push(userId);\n    } else {\n      this.favorites.splice(this.favorites.indexOf(userId), 1);\n    }\n  }\n  _getUserId() {\n    if (!this._userId) {\n      this._userId = getUserId();\n    }\n    return this._userId;\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}