{"ast":null,"code":"import { FormsModule } from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { Subject, Subscription } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, map, pluck } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nexport let FastSearchComponent = /*#__PURE__*/(() => {\n  class FastSearchComponent {\n    constructor(route, router) {\n      this.route = route;\n      this.router = router;\n      this._subscriptions$ = new Subscription();\n      this._subscriptionRoute$ = new Subscription();\n      this.keyUp$ = new Subject();\n      this.isUnsubscribeChangeRoute = false;\n    }\n    ngOnInit() {\n      this._subscribeRoute();\n      this._subscribeKeyUp();\n    }\n    ngOnDestroy() {\n      this._subscriptions$.unsubscribe();\n      this._subscriptionRoute$.unsubscribe();\n    }\n    _subscribeKeyUp() {\n      this._subscriptions$.add(this.keyUp$.pipe(map(event => event.target.value), debounceTime(200), distinctUntilChanged()).subscribe(data => {\n        if (!this.isUnsubscribeChangeRoute) {\n          this._subscriptionRoute$.unsubscribe();\n          this.isUnsubscribeChangeRoute = true;\n        }\n        this.router.navigate([], {\n          queryParams: {\n            text: data\n          },\n          queryParamsHandling: \"merge\"\n        });\n      }));\n      this._subscriptions$.add(this.keyUp$.pipe(debounceTime(3000), distinctUntilChanged()).subscribe(() => {\n        if (this.isUnsubscribeChangeRoute) {\n          this._subscribeRoute();\n        }\n      }));\n    }\n    _subscribeRoute() {\n      this.isUnsubscribeChangeRoute = false;\n      this._subscriptionRoute$ = this.route.queryParams.pipe(pluck(\"text\")).subscribe(text => {\n        this.text = text;\n      });\n    }\n    static #_ = (() => this.ɵfac = function FastSearchComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || FastSearchComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: FastSearchComponent,\n      selectors: [[\"app-fast-search\"]],\n      decls: 6,\n      vars: 1,\n      consts: [[1, \"fast-search__input-wrapper\"], [1, \"fast-search__input-icon\"], [\"width\", \"14px\", \"height\", \"14px\", \"viewBox\", \"0 0 14 14\", \"version\", \"1.1\", \"xmlns\", \"http://www.w3.org/2000/svg\", 0, \"xmlns\", \"xlink\", \"http://www.w3.org/1999/xlink\"], [\"id\", \"Assets\", \"stroke\", \"none\", \"stroke-width\", \"1\", \"fill\", \"none\", \"fill-rule\", \"evenodd\", \"transform\", \"translate(-66.000000, -335.000000)\"], [\"d\", \"M75.2024582,338.026142 C73.4965685,336.320252 70.7320314,336.320252 69.0261418,338.026142 C67.3202521,339.732031 67.3202521,342.496569 69.0261418,344.202458 C70.7320314,345.908348 73.4965685,345.908348 75.2024582,344.202458 C76.9083479,342.496569 76.9083479,339.732031 75.2024582,338.026142 M79.7445096,348.74451 C79.4029823,349.085163 78.8500749,349.085163 78.5085475,348.74451 L75.757986,345.993075 C73.3629274,347.783691 69.9668705,347.614238 67.7910532,345.437547 C65.4029823,343.050349 65.4029823,339.179124 67.7910532,336.791053 C70.1782506,334.402982 74.0503494,334.402982 76.4375468,336.791053 C78.6142376,338.96687 78.783691,342.362927 76.9930746,344.757986 L79.7445096,347.509421 C80.0851635,347.850075 80.0851635,348.402982 79.7445096,348.74451\", \"id\", \"Search\", \"fill\", \"#DFE3E9\"], [\"type\", \"text\", \"placeholder\", \"\\u041F\\u043E\\u0438\\u0441\\u043A\", 1, \"fast-search__input\", 3, \"ngModelChange\", \"keyup\", \"ngModel\"]],\n      template: function FastSearchComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(2, \"svg\", 2)(3, \"g\", 3);\n          i0.ɵɵelement(4, \"path\", 4);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(5, \"input\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function FastSearchComponent_Template_input_ngModelChange_5_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.text, $event) || (ctx.text = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"keyup\", function FastSearchComponent_Template_input_keyup_5_listener($event) {\n            return ctx.keyUp$.next($event);\n          });\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.text);\n        }\n      },\n      dependencies: [FormsModule, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n      styles: [\"[_nghost-%COMP%]{display:flex;align-items:center}@media (max-width: 767px){[_nghost-%COMP%]{display:none}}[_nghost-%COMP%]   .fast-search__input-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .fast-search__input-icon[_ngcontent-%COMP%]{position:absolute;top:10px;left:17px}[_nghost-%COMP%]   .fast-search__input[_ngcontent-%COMP%]{width:210px;height:36px;border-radius:18px;background-color:#fff;border:solid 1px #dfe3e9;padding-left:44px;padding-right:10px;font-size:14px}[_nghost-%COMP%]   .fast-search__input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#c7cdd5;font-family:ProximaNovaRegular}[_nghost-%COMP%]   .fast-search__input[_ngcontent-%COMP%]:-moz-placeholder{color:#c7cdd5;font-family:ProximaNovaRegular}[_nghost-%COMP%]   .fast-search__input[_ngcontent-%COMP%]::-moz-placeholder{color:#c7cdd5;font-family:ProximaNovaRegular}[_nghost-%COMP%]   .fast-search__input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c7cdd5;font-family:ProximaNovaRegular}\"],\n      changeDetection: 0\n    }))();\n  }\n  return FastSearchComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}